{% extends 'default.html' %}

{% block title %}–ú–æ–∏ –ø–æ–¥–ø–∏—Å–∫–∏ - News Portal{% endblock %}

{% block content %}
<div style="max-width: 1200px; margin: 0 auto;">
    <h1>üìß –ú–æ–∏ –ø–æ–¥–ø–∏—Å–∫–∏</h1>

    {% if subscriptions %}
        <div class="subscriptions-list">
            <p>–í—ã –ø–æ–¥–ø–∏—Å–∞–Ω—ã –Ω–∞ —Å–ª–µ–¥—É—é—â–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏:</p>

            {% for subscription in subscriptions %}
            <div class="subscription-item" style="border: 1px solid #ddd; padding: 15px; margin: 10px 0; border-radius: 8px; background: white;">
                <h3>{{ subscription.category.name }}</h3>
                <p><strong>–î–∞—Ç–∞ –ø–æ–¥–ø–∏—Å–∫–∏:</strong> {{ subscription.created_at|date:"d.m.Y H:i" }}</p>

                <div class="actions">
                    <a href="{% url 'unsubscribe_from_category' subscription.category.id %}"
                       class="btn btn-danger"
                       onclick="return confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ –æ—Ç–ø–∏—Å–∞—Ç—å—Å—è –æ—Ç –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ ¬´{{ subscription.category.name }}¬ª?')">
                        –û—Ç–ø–∏—Å–∞—Ç—å—Å—è
                    </a>
                    <a href="{% url 'news_list' %}?category={{ subscription.category.id }}"
                       class="btn btn-info">
                        –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ø—É–±–ª–∏–∫–∞—Ü–∏–∏
                    </a>
                </div>
            </div>
            {% endfor %}
        </div>
    {% else %}
        <div class="alert alert-info">
            <h3>–£ –≤–∞—Å –Ω–µ—Ç –∞–∫—Ç–∏–≤–Ω—ã—Ö –ø–æ–¥–ø–∏—Å–æ–∫</h3>
            <p>–í—ã –º–æ–∂–µ—Ç–µ –ø–æ–¥–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ –∏–Ω—Ç–µ—Ä–µ—Å—É—é—â–∏–µ –≤–∞—Å –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ —Å–æ —Å–ø–∏—Å–∫–æ–º –ø—É–±–ª–∏–∫–∞—Ü–∏–π.</p>
            <a href="{% url 'news_list' %}" class="btn btn-primary">–ü–µ—Ä–µ–π—Ç–∏ –∫ –ø—É–±–ª–∏–∫–∞—Ü–∏—è–º</a>
        </div>
    {% endif %}
</div>

<style>
.subscription-item {
    transition: all 0.3s ease;
}

.subscription-item:hover {
    box-shadow: 0 2px 8px rgba(0,0,0,0.1);
}

.actions {
    margin-top: 10px;
}

.actions .btn {
    margin-right: 10px;
    text-decoration: none;
    padding: 8px 16px;
    border-radius: 4px;
    border: none;
    cursor: pointer;
    display: inline-block;
}

.btn-danger {
    background: #dc3545;
    color: white;
}

.btn-info {
    background: #17a2b8;
    color: white;
}

.btn-primary {
    background: #007bff;
    color: white;
}

.alert {
    padding: 20px;
    border-radius: 8px;
    margin: 20px 0;
}

.alert-info {
    background: #d1ecf1;
    color: #0c5460;
    border: 1px solid #bee5eb;
    text-align: center;
}
</style>
{% endblock %}