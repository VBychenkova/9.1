{% extends 'default.html' %}
{% load censor_filters %}

{% block title %}Поиск новостей{% endblock %}

{% block content %}
<h2>Поиск новостей</h2>

<form method="GET">
    {{ filter.form.as_p }}
    <button type="submit">Найти</button>
</form>

<hr>

{% for news_item in news %}
    <div class="news-item">
        <h3>
            <a href="{% url 'news_detail' news_item.pk %}">
                {{ news_item.title|censor }}
            </a>
        </h3>
        <p><strong>Автор:</strong> {{ news_item.author.user.username }}</p>
        <p><strong>Дата:</strong> {{ news_item.created_at|date:"d.m.Y" }}</p>
        <p>{{ news_item.content|truncatechars:100|censor }}</p>
    </div>
{% empty %}
    <p>Новостей не найдено.</p>
{% endfor %}
{% endblock %}